---
title: Yor.ts | classes/CommandContext
icon: "code"
sidebarTitle: CommandContext
---
[yor.ts](../README) / [Exports](../modules) / CommandContext

# Class: CommandContext

## Hierarchy

- `BaseContext`

  ↳ **`CommandContext`**

## Table of contents

### Constructors

- [constructor](CommandContext#constructor)

### Properties

- [API](CommandContext#api)
- [channel](CommandContext#channel)
- [deferred](CommandContext#deferred)
- [id](CommandContext#id)
- [member](CommandContext#member)
- [raw](CommandContext#raw)
- [replied](CommandContext#replied)
- [subcommand](CommandContext#subcommand)
- [subcommandGroup](CommandContext#subcommandgroup)
- [token](CommandContext#token)
- [user](CommandContext#user)

### Methods

- [decorate](CommandContext#decorate)
- [defer](CommandContext#defer)
- [deleteReply](CommandContext#deletereply)
- [editReply](CommandContext#editreply)
- [fetchReply](CommandContext#fetchreply)
- [followUp](CommandContext#followup)
- [getAttachmentOption](CommandContext#getattachmentoption)
- [getBooleanOption](CommandContext#getbooleanoption)
- [getChannelOption](CommandContext#getchanneloption)
- [getIntegerOption](CommandContext#getintegeroption)
- [getMemberOption](CommandContext#getmemberoption)
- [getNumberOption](CommandContext#getnumberoption)
- [getRoleOption](CommandContext#getroleoption)
- [getStringOption](CommandContext#getstringoption)
- [getUserOption](CommandContext#getuseroption)
- [inGuild](CommandContext#inguild)
- [reply](CommandContext#reply)
- [replyModal](CommandContext#replymodal)

## Constructors

### constructor

• **new CommandContext**(`API`, `data`): [`CommandContext`](CommandContext)

Constructs a new instance of the APIApplicationCommandInteractionData class.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `API` | [`YorClientAPI`](YorClientAPI) | The API used to initialize the instance. |
| `data` | `APIChatInputApplicationCommandInteraction` | The data used to initialize the instance. |

#### Returns

[`CommandContext`](CommandContext)

#### Overrides

BaseContext.constructor

#### Defined in

[src/structures/Contexts/CommandContext.ts:46](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L46)

## Properties

### API

• `Private` **API**: [`YorClientAPI`](YorClientAPI)

#### Defined in

[src/structures/Contexts/CommandContext.ts:38](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L38)

___

### channel

• **channel**: [`Channel`](Channel)

#### Defined in

[src/structures/Contexts/CommandContext.ts:28](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L28)

___

### deferred

• **deferred**: `boolean` = `false`

#### Defined in

[src/structures/Contexts/CommandContext.ts:35](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L35)

___

### id

• `Readonly` **id**: `string`

#### Defined in

[src/structures/Contexts/CommandContext.ts:27](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L27)

___

### member

• **member**: `undefined` \| [`Member`](Member)

#### Defined in

[src/structures/Contexts/CommandContext.ts:30](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L30)

___

### raw

• `Readonly` **raw**: `APIChatInputApplicationCommandInteraction`

#### Defined in

[src/structures/Contexts/CommandContext.ts:25](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L25)

___

### replied

• **replied**: `boolean` = `false`

#### Defined in

[src/structures/Contexts/CommandContext.ts:36](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L36)

___

### subcommand

• `Optional` **subcommand**: `APIApplicationCommandInteractionDataSubcommandOption`

#### Defined in

[src/structures/Contexts/CommandContext.ts:33](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L33)

___

### subcommandGroup

• `Optional` **subcommandGroup**: `APIApplicationCommandInteractionDataSubcommandGroupOption`

#### Defined in

[src/structures/Contexts/CommandContext.ts:32](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L32)

___

### token

• `Readonly` **token**: `string`

#### Defined in

[src/structures/Contexts/CommandContext.ts:26](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L26)

___

### user

• **user**: `undefined` \| [`User`](User)

#### Defined in

[src/structures/Contexts/CommandContext.ts:29](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L29)

## Methods

### decorate

▸ **decorate**(`name`, `data`): `unknown`

Decorates the object with a new property.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `name` | `string` | The name of the property. |
| `data` | `unknown` | The data to assign to the property. |

#### Returns

`unknown`

The decorated object.

#### Inherited from

BaseContext.decorate

#### Defined in

[src/structures/Contexts/BaseContext.ts:9](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/BaseContext.ts#L9)

___

### defer

▸ **defer**(`ephemeral?`): `Promise`\<`void`\>

Defers the execution of the function.

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `ephemeral` | `boolean` | `false` | Whether the message is ephemeral or not. |

#### Returns

`Promise`\<`void`\>

A promise that resolves when the deferral is complete.

#### Defined in

[src/structures/Contexts/CommandContext.ts:77](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L77)

___

### deleteReply

▸ **deleteReply**(): `Promise`\<`void`\>

Deletes a reply.

#### Returns

`Promise`\<`void`\>

A promise that resolves when the reply is deleted.

#### Defined in

[src/structures/Contexts/CommandContext.ts:132](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L132)

___

### editReply

▸ **editReply**(`data`): `Promise`\<`APIMessage`\>

Edits a reply.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `data` | `Omit`\<`RESTPostAPIWebhookWithTokenJSONBody`, ``"username"`` \| ``"avatar_url"``\> & \{ `flags?`: `MessageFlags`  } & \{ `files?`: `RawFile`[]  } | The data for editing the reply. |

#### Returns

`Promise`\<`APIMessage`\>

A promise that resolves when the reply is edited.

#### Defined in

[src/structures/Contexts/CommandContext.ts:115](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L115)

___

### fetchReply

▸ **fetchReply**(): `Promise`\<`APIMessage`\>

Fetches the reply asynchronously.

#### Returns

`Promise`\<`APIMessage`\>

A promise that resolves when the original reply is fetched.

#### Defined in

[src/structures/Contexts/CommandContext.ts:141](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L141)

___

### followUp

▸ **followUp**(`data`): `Promise`\<`APIMessage`\>

Calls the followUp method of the API class with the provided data.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `data` | `Omit`\<`RESTPostAPIWebhookWithTokenJSONBody`, ``"username"`` \| ``"avatar_url"``\> & \{ `flags?`: `MessageFlags`  } & \{ `files?`: `RawFile`[]  } | The data to be passed to the followUp method. |

#### Returns

`Promise`\<`APIMessage`\>

A promise that resolves to an APIMessage object.

#### Defined in

[src/structures/Contexts/CommandContext.ts:169](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L169)

___

### getAttachmentOption

▸ **getAttachmentOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? `APIAttachment` : ``null`` \| `APIAttachment`

Retrieves the value of the attachment option from the interaction data.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the attachment option. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | The index of the attachment option. |
| `required?` | `T` | `undefined` | Whether the attachment option is required. |

#### Returns

`T` extends ``true`` ? `APIAttachment` : ``null`` \| `APIAttachment`

The value of the attachment option, or null if it doesn't exist.

**`Throws`**

If the attachment option is required but doesn't exist.

#### Defined in

[src/structures/Contexts/CommandContext.ts:666](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L666)

___

### getBooleanOption

▸ **getBooleanOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? `boolean` : ``null`` \| `boolean`

Retrieves a boolean option from the command's options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option to retrieve. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | (Optional) The index of the option to retrieve. Defaults to 0. |
| `required?` | `T` | `undefined` | (Optional) Specifies if the option is required. Defaults to false. |

#### Returns

`T` extends ``true`` ? `boolean` : ``null`` \| `boolean`

- The value of the option, or null if the option is not found and not required.

#### Defined in

[src/structures/Contexts/CommandContext.ts:356](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L356)

___

### getChannelOption

▸ **getChannelOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? [`Channel`](Channel) : ``null`` \| [`Channel`](Channel)

Retrieves a channel option from the command's options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option to retrieve. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | (Optional) The index of the option to retrieve. Defaults to 0. |
| `required?` | `T` | `undefined` | (Optional) Specifies if the option is required. Defaults to false. |

#### Returns

`T` extends ``true`` ? [`Channel`](Channel) : ``null`` \| [`Channel`](Channel)

- The value of the option, or null if the option is not found and not required.

#### Defined in

[src/structures/Contexts/CommandContext.ts:536](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L536)

___

### getIntegerOption

▸ **getIntegerOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? `number` : ``null`` \| `number`

Retrieves an integer option from the API.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | The index of the option. |
| `required?` | `T` | `undefined` | Whether the option is required or not. |

#### Returns

`T` extends ``true`` ? `number` : ``null`` \| `number`

- The value of the option.

#### Defined in

[src/structures/Contexts/CommandContext.ts:302](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L302)

___

### getMemberOption

▸ **getMemberOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? [`Member`](Member) : ``null`` \| [`Member`](Member)

Retrieves a user option from the command's options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option to retrieve. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | (Optional) The index of the option to retrieve. Defaults to 0. |
| `required?` | `T` | `undefined` | (Optional) Specifies if the option is required. Defaults to false. |

#### Returns

`T` extends ``true`` ? [`Member`](Member) : ``null`` \| [`Member`](Member)

- The value of the option, or null if the option is not found and not required.

#### Defined in

[src/structures/Contexts/CommandContext.ts:600](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L600)

___

### getNumberOption

▸ **getNumberOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? `number` : ``null`` \| `number`

Retrieves a number option from the command's options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option to retrieve. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | (Optional) The index of the option to retrieve. Defaults to 0. |
| `required?` | `T` | `undefined` | (Optional) Specifies if the option is required. Defaults to false. |

#### Returns

`T` extends ``true`` ? `number` : ``null`` \| `number`

- The value of the option, or null if the option is not found and not required.

#### Defined in

[src/structures/Contexts/CommandContext.ts:248](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L248)

___

### getRoleOption

▸ **getRoleOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? `Role` : ``null`` \| `Role`

Retrieves a role option from the command's options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option to retrieve. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | (Optional) The index of the option to retrieve. Defaults to 0. |
| `required?` | `T` | `undefined` | (Optional) Specifies if the option is required. Defaults to false. |

#### Returns

`T` extends ``true`` ? `Role` : ``null`` \| `Role`

- The value of the option, or null if the option is not found and not required.

#### Defined in

[src/structures/Contexts/CommandContext.ts:473](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L473)

___

### getStringOption

▸ **getStringOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? `string` : ``null`` \| `string`

Retrieves a string option from the command's options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option to retrieve. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | (Optional) The index of the option to retrieve. Defaults to 0. |
| `required?` | `T` | `undefined` | (Optional) Specifies if the option is required. Defaults to false. |

#### Returns

`T` extends ``true`` ? `string` : ``null`` \| `string`

- The value of the option, or null if the option is not found and not required.

#### Defined in

[src/structures/Contexts/CommandContext.ts:192](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L192)

___

### getUserOption

▸ **getUserOption**\<`T`\>(`name`, `index?`, `required?`): `T` extends ``true`` ? [`User`](User) : ``null`` \| [`User`](User)

Retrieves a user option from the command's options.

#### Type parameters

| Name | Type |
| :------ | :------ |
| `T` | extends `boolean` |

#### Parameters

| Name | Type | Default value | Description |
| :------ | :------ | :------ | :------ |
| `name` | `string` | `undefined` | The name of the option to retrieve. |
| `index` | ``0`` \| ``2`` \| ``1`` | `0` | (Optional) The index of the option to retrieve. Defaults to 0. |
| `required?` | `T` | `undefined` | (Optional) Specifies if the option is required. Defaults to false. |

#### Returns

`T` extends ``true`` ? [`User`](User) : ``null`` \| [`User`](User)

- The value of the option, or null if the option is not found and not required.

#### Defined in

[src/structures/Contexts/CommandContext.ts:410](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L410)

___

### inGuild

▸ **inGuild**(): `boolean`

Checks if the instance is in a guild.

#### Returns

`boolean`

Returns true if the instance is in a guild, otherwise false.

#### Defined in

[src/structures/Contexts/CommandContext.ts:180](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L180)

___

### reply

▸ **reply**(`data`): `Promise`\<`void`\>

A description of the entire function.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `data` | `Omit`\<`RESTPostAPIWebhookWithTokenJSONBody`, ``"username"`` \| ``"avatar_url"``\> & \{ `flags?`: `MessageFlags`  } & \{ `files?`: `RawFile`[]  } | description of the data parameter |

#### Returns

`Promise`\<`void`\>

description of the return value

#### Defined in

[src/structures/Contexts/CommandContext.ts:96](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L96)

___

### replyModal

▸ **replyModal**(`data`): `Promise`\<`void`\>

Reply to a modal.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `data` | `APIModalInteractionResponseCallbackData` | The data for creating the modal. |

#### Returns

`Promise`\<`void`\>

A promise that resolves when the modal is created.

#### Defined in

[src/structures/Contexts/CommandContext.ts:151](https://github.com/OreOreki/yor.ts/blob/a201e7d/src/structures/Contexts/CommandContext.ts#L151)
